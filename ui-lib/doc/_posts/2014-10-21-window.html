---
layout: post
title:  "window"
date:   2014-10-20 11:09:12
categories: ui
---

<h1 id="window">window库</h1>
<p>用于快速建立窗口的插件,该窗口是使用div模拟的窗口，用于在浏览器上显示类似桌面的应用的方法。</p>
  <h2>使用方法</h2>
  <p>可以直接使用create方法建立新窗口，并将相关参数传入window中。</p>
<pre>
<code>
  Window.create('newWin'    //窗口的id
  ,'Test Window '           //窗口的标题
  , { left:200,             //窗口的配置信息
    top:100,
    height: 300,
    width: 800
  });
</code>
</pre>

<h2>配置选项</h2>
<br / >
<pre>
<code>
  close: true，       //右上角关闭按钮，可点击
  max: true,         //右上角最大化按钮，可点击
  min: false,        //右上角最小化按钮，可点击
  hide: true,        //右上角隐藏内容按钮，可点击
  fadeSpeed: 100,    //打开窗口速度
  hideWindow: false, //是否直接显示窗口
  width: 600,        //宽
  height: 600,       //高
  left: 0,           //位置x坐标
  top: 0,            //位置y坐标
  resize: false,     //设置是否可重新调整窗口的大小
  minWidth: 200,     //设置窗口的最小宽度
  minHeight:200,     //设置窗口的最小高度
  animate: true,     //动画效果
  contentDiv: true   //包含放置内容的div
  iframe: true       //iframe内容框，如果contentDiv为false时生效。
  maxWindow: false   //初始最大化窗口
  fullScreen: false   //双击内容全屏显示。
  z_index: 100,              //层叠深度
  fixed_pos: false,          //是否固定位置
  left_top_color: 'grey',    //标题栏左上角的颜色
  title_align: 'center'      //标题对齐方式，left或者center
</code>
</pre>
<p><br /></p>

<h2>向窗口中添加内容方法</h2>
<p>如果窗口包含div内容，可以向窗口中添加内容，其添加方法为：</p>
<pre>
<code>
  var window = Window.create('id','title');
方法一：使用Window提供的添加方法。（封装的jquery方法）
  window.append("&lt;img src='assets/img/cat.jpg' &gt;");
方法二：获取窗口的内容div，并向其中添加内容。（jquery原生方法）
  window._windowContent.append("&lt;img src='assets/img/cat.jpg' &gt;");
</code>
</pre> <br />

<h2>窗口提供的可用的api</h2>
<p>下面列出了基本的提供窗口的api</p>
<pre>
<code>
1、hide()   //隐藏窗口
2、show()   //现实窗口
3、append(content_)   //向content内添加内容，必须加入的是div内容页
4、close()   //关闭当前窗口
5、create(options_)   //创建新窗口
6、closeWindow(windowobj_)    //关闭windowobj_窗口对象， windowobj_ = Window.create(options);
7、bindButton($target_, eventAction_, argument)    //绑定鼠标点击$target的事件eventAction_,argument是传给eventAction的参数。
8、appendHtml(src)   //向iframe中加入网页，src为html文件的地址。必须加入的是iframe内容页。
9、bindCloseButton(eventAction_, argument) //绑定鼠标点击关闭的事件eventAction_,argument是传给eventAction的参数。
10、bindMinButton(eventAction_, argument) //绑定鼠标点击最小化的事件eventAction_,argument是传给eventAction的参数。
11、bindMaxButton(eventAction_, argument) //绑定鼠标点击最大化的事件eventAction_,argument是传给eventAction的参数。
12、bindHideButton(eventAction_, argument) //绑定鼠标点击隐藏的事件eventAction_,argument是传给eventAction的参数。
13、getID()  //获取窗口ID
14、onfocus(callback_)  //窗口被点击获取聚焦时执行回调函数。
15、focus()  //窗口获得聚焦时（被点击时默认执行的方法）设置z-index,
16、blur()   //窗口失去聚焦时调用的方法，用于提供外部调用。
17、fullScreen()   //窗口提供的伪全屏方法，用于nw下提供全屏方法。
</code>
</pre>


<h2>demo</h2>
<p>关闭按钮：<input type='checkbox' id='win-Close' checked="checked"></p>
<p>最大化按钮：<input type='checkbox' id='win-Max' checked="checked"></p>
<p>最小化按钮：<input type='checkbox' id='win-Min'></p>
<p>收起内容按钮：<input type='checkbox' id='win-Hide' checked="checked"></p>
<p>调整窗口大小：<input type='checkbox' id='win-Resize' checked="checked"></p>
<p>初始隐藏窗口：<input type='checkbox' id='win-Hidewindow'></p>
<p>初始最大化窗口：<input type='checkbox' id='win-Maxwindow'></p>
<p>动画：<input type='checkbox' id='win-Animate' checked="checked"></p>
<p>内容Div：<input type='checkbox' id='win-Contentdiv' checked="checked"></p>
<p>Iframe：<input type='checkbox' id='win-Iframe' checked="checked"></p>
<p>标题左对齐（默认中间对齐）:<input type='checkbox' id='win-title-align'></p>
<p>固定位置：<input type='checkbox' id='win-fixed-pos'></p>
<p>动画速度：<input type='text' id='win-FadeSpeed' value="100"></p>
<p>窗口宽度<input type='text' id='win-Width' value="600"></p>
<p>窗口高度：<input type='text' id='win-Height' value="600"></p>
<p>窗口位置（左）：<input type='text' id='win-Left' value="100"></p>
<p>窗口位置（上）：<input type='text' id='win-Top' value="100"></p>
<p>最小窗口大小宽：<input type='text' id='win-Minwidth' value="200"></p>
<p>最小窗口大小高：<input type='text' id='win-Minheight' value="200"></p>
<p>窗口标题：<input type='text' id='win-Title' value="Test Window"></p>
<p>标题左角颜色：<input type='text' id='win-left_top_color' value=""></p>
<p>z-index：<input type='text' id='win-z-index' value="100"></p>

<button class='btn active' onclick="newWin()">New Window</button>
<button class='btn active' onclick="fullScreen()">fullScreen</button>
<button class='btn active' onclick="bindEvent()">bindEvent</button>
<button class='btn active' onclick="appendContent()">Append </button>
<button class='btn active' onclick="closeWin()">Close Window</button>
<button class='btn active' onclick="hideWin()">hide Window</button>
<button class='btn active' onclick="showWin()">show Window</button>
<button class='btn active' onclick="appendHtml('/../app/flash-app/index.html')">append shark</button>
<button class='btn success-btn' onclick="appendHtml('/../app/video/index.html')">append video</button>
<button class='btn active' onclick="addVideo()">add video</button>
<script type="text/javascript">
  var myNewWin;
  var newWin = function(){
    var _options = {};
    _options['close'] = $('#win-Close')[0].checked;
    _options['max'] = $('#win-Max')[0].checked;
    _options['min'] = $('#win-Min')[0].checked;
    _options['hide'] = $('#win-Hide')[0].checked;
    _options['resize'] = $('#win-Resize')[0].checked;
    _options['hideWindow'] = $('#win-Hidewindow')[0].checked;
    _options['maxWindow'] = $('#win-Maxwindow')[0].checked;
    _options['animate'] = $('#win-Animate')[0].checked;
    _options['contentDiv'] = $('#win-Contentdiv')[0].checked;
    _options['iframe'] = $('#win-Iframe')[0].checked;
    _options['title_align'] = 'center';
    _options['fadeSpeed'] = parseInt($('#win-FadeSpeed')[0].value);
    _options['width'] = $('#win-Width')[0].value;
    _options['height'] = $('#win-Height')[0].value;
    _options['left'] = parseInt($('#win-Left')[0].value);
    _options['top'] = parseInt($('#win-Top')[0].value);
    _options['minWidth'] = $('#win-Minwidth')[0].value;
    _options['minHeight'] = $('#win-Minheight')[0].value;
    _options['z_index'] = $('#win-z-index')[0].value;

    if ($('#win-title-align')[0].checked == true){
      _options['title_align'] = 'left';
    }

    if ($('#win-fixed-pos')[0].checked == true){
      _options['fixed_pos'] = true;
    }

    if ($('#win-left_top_color')[0].value !== ''){
      _options['left_top_color'] = $('#win-left_top_color')[0].value;
    }

    myNewWin = Window.create('newWin', $('#win-Title')[0].value, _options);
  }

  var fullScreen = function(){
    myNewWin.fullScreen();
  }

var bindEvent = function(){
  myNewWin.bindCloseButton(function(){alert('close window')});
  myNewWin.bindMinButton(function(){alert('close window')});
  myNewWin.bindMaxButton(function(){alert('close window')});
  myNewWin.bindHideButton(function(){alert('close window')});
  myNewWin.onfocus(function(){alert('focus window')});
}

  var appendContent = function(){
    myNewWin.append("<img src='/assets/img/cat.jpg' width='190px'>");
  }

  var closeWin = function(){
    myNewWin.close();
  }
 
  var hideWin = function(){
    myNewWin.hide();
}

var appendHtml = function(src_){
   myNewWin.appendHtml(src_);
 }

var showWin = function(){
  myNewWin.show();
}

var addVideo= function(){
  var _video = Video.create();
  _video.setSrc ('http://www.projekktor.com/wp-content/manual/intro.mp4'); 
  myNewWin.append(_video._section);
}
</script>
