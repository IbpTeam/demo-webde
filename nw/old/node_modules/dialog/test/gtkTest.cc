#include "../src/gtkDialog.h"
#include "gtkTest.h"

static Dialog dialog;
static void on_btn_clicked(GtkWidget *btn, gpointer data) {
	switch(*(int *)data) {
		case 0:
			dialog.messageBox(INFO, "Hello world");
			break;
		case 1:
			dialog.messageBox(WARNING, "Hello world");
			break;
		case 2:
			dialog.messageBox(QUESTION, "Hello world");
			break;
		case 3:
			dialog.messageBox(ERROR, "Hello world");
			break;
		default:
			break;
	}
}

void start(int *argc, char ***argv) {
	gtk_init(argc, argv);
	GtkWidget *window = gtk_window_new(GTK_WINDOW_TOPLEVEL);
	gtk_window_set_title(GTK_WINDOW(window), "Gtk Test");
	g_signal_connect(G_OBJECT(window), "destroy", G_CALLBACK(gtk_main_quit), NULL);
	GtkWidget *frame = gtk_frame_new("");
	gtk_container_add(GTK_CONTAINER(window), frame);
	GtkWidget *box = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);
	gtk_container_add(GTK_CONTAINER(frame), box);
	gtk_container_set_border_width(GTK_CONTAINER(box), 20);

	int type0 = 0;
	GtkWidget *btnMsgBox0 = gtk_button_new_from_stock(GTK_STOCK_DIALOG_INFO);
	gtk_box_pack_start(GTK_BOX(box), btnMsgBox0, FALSE, FALSE, 5);
	g_signal_connect(G_OBJECT(btnMsgBox0), "clicked"
			, G_CALLBACK(on_btn_clicked), (gpointer)&type0);

	int type1 = 1;
	GtkWidget *btnMsgBox1 = gtk_button_new_from_stock(GTK_STOCK_DIALOG_WARNING);
	gtk_box_pack_start(GTK_BOX(box), btnMsgBox1, FALSE, FALSE, 5);
	g_signal_connect(G_OBJECT(btnMsgBox1), "clicked"
			, G_CALLBACK(on_btn_clicked), (gpointer)&type1);

	int type2 = 2;
	GtkWidget *btnMsgBox2 = gtk_button_new_from_stock(GTK_STOCK_DIALOG_QUESTION);
	gtk_box_pack_start(GTK_BOX(box), btnMsgBox2, FALSE, FALSE, 5);
	g_signal_connect(G_OBJECT(btnMsgBox2), "clicked"
			, G_CALLBACK(on_btn_clicked), (gpointer)&type2);

	int type3 = 3;
	GtkWidget *btnMsgBox3 = gtk_button_new_from_stock(GTK_STOCK_DIALOG_ERROR);
	gtk_box_pack_start(GTK_BOX(box), btnMsgBox3, FALSE, FALSE, 5);
	g_signal_connect(G_OBJECT(btnMsgBox3), "clicked"
			, G_CALLBACK(on_btn_clicked), (gpointer)&type3);

	gtk_widget_show_all(window);
	gtk_main();
	return ;
}
