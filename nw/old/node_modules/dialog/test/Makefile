src = ../src
APP = dialog-test

$(APP): main.o gtkTest.o gtkDialog.o
	@echo 'Compiling...'
	@g++ obj/* -o $(APP) `pkg-config --cflags --libs gtk+-3.0`
	@echo 'Build APP successfully'

main.o: main.cc gtkTest.h
	@g++ -c main.cc `pkg-config --cflags --libs gtk+-3.0` && mv main.o obj/

gtkTest.o: gtkTest.cc gtkTest.h $(src)/gtkDialog.h
	@g++ -c gtkTest.cc `pkg-config --cflags --libs gtk+-3.0` && mv gtkTest.o obj/

gtkDialog.o: $(src)/gtkDialog.cc $(src)/gtkDialog.h $(src)/dialog.h
	@g++ -c $(src)/gtkDialog.cc `pkg-config --cflags --libs gtk+-3.0` && mv gtkDialog.o obj/

.PHONY: clean
clean:
	@rm $(APP) obj/* >> /dev/null
